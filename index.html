<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Todos</title>
    <link href="stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.2.2/underscore-min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.5.3/backbone-min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/backbone-localstorage.js/1.0/backbone.localStorage-min.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0.beta2/handlebars.min.js" ></script>
    <script type="text/javascript" src="javascripts/backrub.js" ></script>
  </head>
  <body>
    <script id="app-template" type="text/handlebar-template">
      {{#view AppView}}
        <div class='title'>
          <h1>Todos</h1>
        </div>
        <div class='content'>
          <div id='create-todo'>
            <input id='new-todo' placeholder='What needs to be done?' type='text' />
            <span class='ui-tooltip-top'>Press Enter to create this task</span>
          </div>
          <div id="todos"
            {{#collection model colTag="ul" colId="todo-list" itemView="TodoView"}}
              {{#if done}}
                <input type='checkbox' class='todo-check' checked="checked" />
              {{else}}
                <input type='checkbox' class='todo-check'/>
              {{/if}}
              <div class='todo-content'>{{content}}</div>
              <span class='todo-destroy'></span>
              <input type='text' class='todo-input' {{bindAttr value=content}}/>
            {{/collection}}
          </div>
        </div>
        <div id='todo-stats'>
          {{#if items}}
            <span class="todo-count">
              <span class="number">{{bind "remainingItems"}}</span>
              <span class="word"> {{bind "remainingWord"}}</span> 
              left.
            </span>
          {{/if}}
          {{#if doneItems}}
            <span class="todo-clear">
              <a href="#">
                Clear 
                <span class="number-done">{{bind "doneItems"}} </span>
                completed 
                <span class="word-done">{{bind "doneWord"}}</span>
              </a>
            </span>
          {{/if}}
        </div>
      </div>
      <ul id='instructions'>
        <li>Double-click to edit a todo.</li>
      </ul>
      <div id='credits'>
        Created by
        <br />
        <a href='http://jgn.me/'>J&eacute;r&ocirc;me Gravel-Niquet</a>
        <br />
        Updated by
        <br />
        <a href='http://jguimont.com/'>Julien Guimont</a>
      {{/view}}
    </script>

    <script language="javascript" src="javascripts/todos.js" type="text/javascript"></script>
  </body>
</html>